<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Prototype Génération de Mélodie</title>
  <link rel="stylesheet" href="styles.css?v=10">
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
</head>
<body>
  <p class="site-version">Version du site&nbsp;: v10</p>
  <header class="hero">
    <div>
      <p class="eyebrow">Prototype</p>
      <h1>Générateur de mélodie</h1>
      <p class="lead">
        Configurez les paramètres, générez une mélodie contrainte par les règles A/B/C/E, puis écoutez la séquence avec l’instrument sélectionné.
      </p>
    </div>
  </header>

  <main>
    <section class="panel">
      <h2>Paramètres</h2>
      <div class="form-grid">
        <label class="field" for="primary-tones">
          <span>Primary tones (A)</span>
          <textarea id="primary-tones" rows="2" placeholder="Ex: c#, e, g">e, g, b</textarea>
        </label>

        <label class="field" for="secondary-tones">
          <span>Secondary tones (B)</span>
          <textarea id="secondary-tones" rows="2" placeholder="Ex: d, f#, a">f#, a, c, d</textarea>
        </label>

        <label class="field" for="forbidden-tones">
          <span>Forbidden tones (C)</span>
          <textarea id="forbidden-tones" rows="2" placeholder="Ex: db, gb, bb">g#, c#</textarea>
        </label>

        <label class="field" for="ambitus-min">
          <span>Ambitus min (MIDI)</span>
          <input id="ambitus-min" type="number" min="0" max="127" step="1" value="50">
        </label>

        <label class="field" for="ambitus-max">
          <span>Ambitus max (MIDI)</span>
          <input id="ambitus-max" type="number" min="0" max="127" step="1" value="72">
        </label>

        <label class="field" for="instrument-select">
          <span>Instrument</span>
          <select id="instrument-select"></select>
        </label>
      </div>

      <div class="controls">
        <button class="primary" id="generate-btn" type="button">Générer</button>
        <button id="replay-btn" type="button" disabled>Replay</button>
      </div>

      <p id="status" class="status">Prêt.</p>
    </section>

    <section class="panel">
      <h2>Résultat</h2>
      <p><strong>Instrument:</strong> <span id="result-instrument">—</span></p>
      <p><strong>Pattern (16):</strong> <span id="result-pattern">—</span></p>
      <p><strong>Série:</strong> <span id="result-sequence">—</span></p>
    </section>
  </main>

  <footer>
    <p>Version prototype v10: mélodie contrainte + pattern rythmique 4 temps.</p>
  </footer>

  <script type="module" src="main.js?v=10"></script>
</body>
</html>
